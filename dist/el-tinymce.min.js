!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("element-ui"),require("@panhezeng/el-single-upload"),require("@panhezeng/vue-tinymce")):"function"==typeof define&&define.amd?define("ElTinymce",["element-ui","@panhezeng/el-single-upload","@panhezeng/vue-tinymce"],t):"object"==typeof exports?exports.ElTinymce=t(require("element-ui"),require("@panhezeng/el-single-upload"),require("@panhezeng/vue-tinymce")):e.ElTinymce=t(e.ELEMENT,e.ElSingleUpload,e.VueTinymce)}(window,(function(e,t,n){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(t,n){t.exports=e},function(e,t,n){var i=n(8);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(4).default)("6904f9e2",i,!1,{})},function(e,t,n){var i=n(12);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(4).default)("3ef8ad0a",i,!1,{})},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var a=(r=i,l=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(s," */")),o=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([a]).join("\n")}var r,l,s;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(a[r]=!0)}for(var l=0;l<e.length;l++){var s=[].concat(e[l]);i&&a[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},function(e,t,n){"use strict";function i(e,t){for(var n=[],i={},a=0;a<t.length;a++){var o=t[a],r=o[0],l={id:e+":"+a,css:o[1],media:o[2],sourceMap:o[3]};i[r]?i[r].parts.push(l):n.push(i[r]={id:r,parts:[l]})}return n}n.r(t),n.d(t,"default",(function(){return m}));var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},r=a&&(document.head||document.getElementsByTagName("head")[0]),l=null,s=0,c=!1,u=function(){},d=null,p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,t,n,a){c=n,d=a||{};var r=i(e,t);return f(r),function(t){for(var n=[],a=0;a<r.length;a++){var l=r[a];(s=o[l.id]).refs--,n.push(s)}t?f(r=i(e,t)):r=[];for(a=0;a<n.length;a++){var s;if(0===(s=n[a]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete o[s.id]}}}}function f(e){for(var t=0;t<e.length;t++){var n=e[t],i=o[n.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](n.parts[a]);for(;a<n.parts.length;a++)i.parts.push(h(n.parts[a]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var r=[];for(a=0;a<n.parts.length;a++)r.push(h(n.parts[a]));o[n.id]={id:n.id,refs:1,parts:r}}}}function g(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function h(e){var t,n,i=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(i){if(c)return u;i.parentNode.removeChild(i)}if(p){var a=s++;i=l||(l=g()),t=v.bind(null,i,a,!1),n=v.bind(null,i,a,!0)}else i=g(),t=w.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}var y,b=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function v(e,t,n,i){var a=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=b(t,a);else{var o=document.createTextNode(a),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function w(e,t){var n=t.css,i=t.media,a=t.sourceMap;if(i&&e.setAttribute("media",i),d.ssrId&&e.setAttribute("data-vue-ssr-id",t.id),a&&(n+="\n/*# sourceURL="+a.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t,n){"use strict";var i=n(1);n.n(i).a},function(e,t,n){var i=n(3),a=n(9),o=n(10);t=i(!1);var r=a(o);t.push([e.i,".el-tinymce-side {\n  width: 140px;\n  min-width: 140px;\n  margin: 0 0 0 16px;\n}\n.el-tinymce-side .el-tinymce-assets-title {\n  line-height: 39px;\n}\n.el-tinymce-side .el-tinymce-assets-list {\n  border: 1px solid #e7e7eb;\n}\n.el-tinymce-side .el-tinymce-assets-item {\n  border-top: 1px solid #e7e7eb;\n  background-color: #fff;\n  text-align: left;\n  padding-left: 20px;\n  line-height: 38px;\n  cursor: pointer;\n}\n.el-tinymce-side .el-tinymce-assets-item:hover {\n  border: 1px solid #43b548;\n  margin: 0 -1px -1px;\n  position: relative;\n  z-index: 1;\n  color: #43b548;\n  zoom: 1;\n  float: none;\n}\n.el-tinymce-side .el-tinymce-assets-item-icon {\n  width: 22px;\n  height: 22px;\n  vertical-align: middle;\n  display: inline-block;\n  margin-right: 1em;\n}\n.el-tinymce-side .el-tinymce-assets-item-image .el-tinymce-assets-item-icon {\n  background: url("+r+") 0 0 no-repeat;\n}\n.el-tinymce-side .el-tinymce-assets-item-image:hover .el-tinymce-assets-item-icon {\n  background: url("+r+") 0 -106px no-repeat;\n}\n.el-tinymce-side .el-tinymce-assets-item-audio .el-tinymce-assets-item-icon {\n  background: url("+r+") 0 -50px no-repeat;\n}\n.el-tinymce-side .el-tinymce-assets-item-audio:hover .el-tinymce-assets-item-icon {\n  background: url("+r+") 0 -156px no-repeat;\n}\n.el-tinymce-side .el-tinymce-assets-item-video .el-tinymce-assets-item-icon {\n  background: url("+r+") 0 -28px no-repeat;\n}\n.el-tinymce-side .el-tinymce-assets-item-video:hover .el-tinymce-assets-item-icon {\n  background: url("+r+") 0 -134px no-repeat;\n}\n.el-tinymce-dialog .el-dialog__body {\n  padding: 0 20px 30px;\n}\n.el-tinymce-dialog .el-tabs__header {\n  margin: 0 0 5px;\n}\n.el-tinymce-dialog .desc {\n  /*text-align: right;*/\n  text-align: center;\n  color: #cccccc;\n}\n.el-tinymce-dialog .width-height {\n  margin-top: 10px;\n}\n.el-tinymce-dialog .width-height span {\n  margin-right: 20px;\n}\n.el-tinymce-dialog .width-height .el-input {\n  width: 60px;\n  margin-left: 10px;\n}\n.el-tinymce-dialog .align {\n  margin-top: 10px;\n}\n.el-tinymce-dialog .upload {\n  text-align: center;\n}\n.el-tinymce-dialog .btn {\n  width: 100%;\n  text-align: right;\n  margin-top: 20px;\n}\n.el-tinymce-dialog .two-col {\n  width: calc(100% - 230px);\n  display: inline-block;\n  vertical-align: top;\n}\n.el-tinymce-dialog .poster {\n  width: 220px;\n}\n",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t,n){"use strict";n.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAADKCAYAAAChSLBvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0NCMzY0N0Q0REFBMTFFN0E4MjZDNTJEQjdDNkI0MEUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0NCMzY0N0U0REFBMTFFN0E4MjZDNTJEQjdDNkI0MEUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3Q0IzNjQ3QjREQUExMUU3QTgyNkM1MkRCN0M2QjQwRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3Q0IzNjQ3QzREQUExMUU3QTgyNkM1MkRCN0M2QjQwRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtHHiFYAAAdVSURBVHja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"},function(e,t,n){"use strict";var i=n(2);n.n(i).a},function(e,t,n){(t=n(3)(!1)).push([e.i,".el-tinymce {\n  display: flex;\n}\n.el-tinymce .vue-tinymce {\n  flex: 1 1 auto;\n}\n",""]),e.exports=t},function(e,t,n){"use strict";n.r(t),n.d(t,"ElTinymce",(function(){return h}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-tinymce"},[n("vue-tinymce",e._g({staticClass:"vue-tinymce",attrs:{content:e.contentInternal,"update-event":e.updateEvent,url:e.url,config:e.configInternal},on:{"update:content":function(t){e.contentInternal=t}}},e.$listeners)),e._v(" "),e.readonly?e._e():n("side",e._g(e._b({attrs:{upload:e.upload,editor:e.editor}},"side",e.$attrs,!1),e.$listeners))],1)};i._withStripped=!0;var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.sideVisible?n("div",{staticClass:"el-tinymce-side"},[n("div",{staticClass:"el-tinymce-assets-title"},[e._v(e._s(e.i18n.resource))]),e._v(" "),n("div",{staticClass:"el-tinymce-assets-list"},[e._l(e.list,(function(t,i){return[e.itemVisible[t.type]?n("div",{key:"div-"+i,class:"el-tinymce-assets-item el-tinymce-assets-item-"+t.type,on:{click:function(n){return e.dialogOpen(t,i)}}},[n("i",{staticClass:"el-tinymce-assets-item-icon"}),e._v(e._s(t.title)+"\n      ")]):e._e(),e._v(" "),e.itemVisible[t.type]?n("el-dialog",{key:"dialog-"+i,staticClass:"el-tinymce-dialog",attrs:{title:t.title,visible:e.currentDialogVisible===t.type},on:{close:function(t){return e.dialogClose(i)}}},[n("el-tabs",{model:{value:t.dialog.activeName,callback:function(n){e.$set(t.dialog,"activeName",n)},expression:"item.dialog.activeName"}},e._l(t.dialog.tabs,(function(i,a){return n("el-tab-pane",{key:a,attrs:{label:i.title,name:t.type+a}},[n("el-form",{ref:i.formName,refInFor:!0,attrs:{model:i.formData,rules:i.formRules,"label-width":"0","label-position":"top"}},[i.formData.hasOwnProperty("poster")?n("el-form-item",{staticClass:"poster two-col",attrs:{label:"",prop:"poster"}},[n("el-single-upload",e._b({attrs:{url:i.formData.poster,upload:e.upload,readonly:!0},on:{"update:url":function(t){return e.$set(i.formData,"poster",t)}}},"el-single-upload",t.dialog.poster.uploadProps,!1))],1):e._e(),e._v(" "),n("el-form-item",{staticClass:"upload",class:{"two-col":i.formData.hasOwnProperty("poster")},attrs:{label:"",prop:"content"}},[i.uploadProps?n("el-single-upload",e._b({attrs:{url:i.formData.content,upload:e.upload,readonly:!0},on:{"update:url":function(t){return e.$set(i.formData,"content",t)}}},"el-single-upload",i.uploadProps,!1)):n("el-input",{model:{value:i.formData.content,callback:function(t){e.$set(i.formData,"content",t)},expression:"tab.formData.content"}}),e._v(" "),i.formData.hasOwnProperty("width")?n("div",{staticClass:"width-height"},[n("span",[e._v(e._s(e.i18n.width)),n("el-input",{model:{value:i.formData.width,callback:function(t){e.$set(i.formData,"width",t)},expression:"tab.formData.width"}})],1),n("span",[e._v(e._s(e.i18n.height)),n("el-input",{model:{value:i.formData.height,callback:function(t){e.$set(i.formData,"height",t)},expression:"tab.formData.height"}})],1)]):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!/<\/iframe>$/.test(i.formData.content),expression:"!/<\\/iframe>$/.test(tab.formData.content)"}],staticClass:"align"},[e._v("\n                  "+e._s(e.i18n.align.title)+"\n                  "),n("el-select",{staticStyle:{"margin-left":"10px",width:"150px"},attrs:{placeholder:"请选择"},on:{change:function(t){return e.alignChange(i.formData)}},model:{value:i.formData.align,callback:function(t){e.$set(i.formData,"align",t)},expression:"tab.formData.align"}},e._l(e.alignOptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),n("div",{staticClass:"desc"},[e._v(e._s(i.desc))])],1),e._v(" "),n("el-form-item",{staticClass:"btn"},[n("el-button",{on:{click:function(t){return e.reset(i)}}},[e._v(e._s(e.i18n.btn.reset))]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(n){return e.submit(e.$refs[i.formName][0],i.formData,t.dialog.template)}}},[e._v("\n                  "+e._s(e.i18n.btn.submit)+"\n                ")])],1)],1)],1)})),1)],1):e._e()]}))],2)]):e._e()};a._withStripped=!0;var o=n(5),r=n.n(o),l=n(0),s={name:"ElTinymceSide",components:{ElSingleUpload:r.a,"el-dialog":l.Dialog,"el-tabs":l.Tabs,"el-tab-pane":l.TabPane,"el-form":l.Form,"el-form-item":l.FormItem,"el-button":l.Button,"el-input":l.Input,"el-select":l.Select,"el-option":l.Option},inheritAttrs:!1,props:{side:{type:Boolean,default:!0},image:{type:Boolean,default:!0},audio:{type:Boolean,default:!0},video:{type:Boolean,default:!0},editor:{type:null,required:!0},i18n:{type:Object,default:function(){return{resource:"资源",btn:{reset:"重置",submit:"提交"},width:"宽",height:"高",align:{title:"排版方式",default:"默认",top:"文字上对齐",middle:"文字中对齐",bottom:"文字下对齐",left:"文字环绕在右侧",right:"文字环绕在左侧"}}}},list:{type:Array,default:function(){return[{type:"image",title:"图片",dialog:{activeName:"image0",tabs:[{title:"本地图片",desc:"支持png、jpg、gif、svg、webp，大小不能超过10M",uploadProps:{accept:"image/*",size:10240,placeholder:"图片链接地址"},formName:"image0",formData:{content:"",width:"",height:"",align:"",alignStyle:""},formRules:{content:[{required:!0,message:"请上传图片",trigger:"blur"}]}},{title:"外链图片",desc:"支持png、jpg、gif、svg、webp",formName:"image1",formData:{content:"",width:"",height:"",align:"",alignStyle:""},formRules:{content:[{required:!0,message:"请输入有效图片链接",trigger:"blur",pattern:/\.(png|jpe?g|gif|svg|webp)$/}]}}],template:function(e){return'<p class="el-tinymce-resource el-tinymce-image"><img src="'.concat(e.content,'" width="').concat(e.width,'" height="').concat(e.height,'" style="').concat(e.alignStyle,'"></p>')}}},{type:"audio",title:"音频",dialog:{activeName:"audio0",tabs:[{title:"本地音频",desc:"支持mp3、ogg、wav、flac、aac，大小不能超过100M",uploadProps:{accept:".mp3,.ogg,.wav,.flac,.aac",size:102400,placeholder:"音频链接地址"},formName:"audio0",formData:{content:"",align:"",alignStyle:""},formRules:{content:[{required:!0,message:"请上传音频",trigger:"blur"}]}},{title:"外链音频",desc:"支持mp3、ogg、wav、flac、aac",formName:"audio1",formData:{content:"",align:"",alignStyle:""},formRules:{content:[{required:!0,message:"请输入有效音频链接",trigger:"blur",pattern:/\.(mp3|ogg|wav|flac|aac)$/}]}}],template:function(e){return'<p class="el-tinymce-resource el-tinymce-audio"><audio src="'.concat(e.content,'" controls style="').concat(e.alignStyle,'"></audio></p>')}}},{type:"video",title:"视频",dialog:{activeName:"video0",poster:{desc:"支持png、jpg、gif、svg、webp，大小不能超过10M",uploadProps:{accept:"image/*",size:10240,placeholder:"视频封面图片链接地址"}},tabs:[{title:"本地视频",desc:"支持mp4、webm，大小不能超过1G",uploadProps:{accept:".mp4,.webm",size:1048576,placeholder:"视频链接地址"},formName:"video0",formData:{content:"",width:"",height:"",poster:"",align:"",alignStyle:""},formRules:{content:[{required:!0,message:"请上传视频",trigger:"blur"}]}},{title:"外链视频",desc:"支持mp4、webm链接和第三方网站分享视频iframe代码",formName:"video1",formData:{content:"",width:"",height:"",poster:"",align:"",alignStyle:""},formRules:{content:[{required:!0,message:"请输入有效视频链接或代码",trigger:"blur",pattern:/\.(mp4|webm)|<\/iframe>$/}]}}],template:function(e){return/\.(mp4|webm)$/.test(e.content)&&(e.content='<video controls src="'.concat(e.content,'" poster="').concat(e.poster,'" width="').concat(e.width,'" height="').concat(e.height,'" style="').concat(e.alignStyle,'"></video>')),'<p class="el-tinymce-resource el-tinymce-video">'.concat(e.content,"</p>")}}}]}},upload:{required:!0,type:Function}},data:function(){return{currentDialogVisible:"",formDataBackedUp:{},alignOptions:[{label:this.i18n.align.default,value:""},{label:this.i18n.align.left,value:"left"},{label:this.i18n.align.right,value:"right"},{label:this.i18n.align.top,value:"top"},{label:this.i18n.align.middle,value:"middle"},{label:this.i18n.align.bottom,value:"bottom"}]}},computed:{sideVisible:function(){return this.side&&this.editor},itemVisible:function(){return{image:this.image,audio:this.audio,video:this.video}}},methods:{dialogOpen:function(e,t){var n=e.type;(this.currentDialogVisible=n,this.formDataBackedUp[n])||(this.formDataBackedUp[n]=!0,this.list[t].dialog.tabs.forEach((function(e){e.formDataBackup=JSON.parse(JSON.stringify(e.formData))})))},dialogClose:function(e){var t=this;this.list[e].dialog.tabs.forEach((function(e){t.reset(e)})),this.currentDialogVisible=""},alignChange:function(e){switch(e.align){case"top":e.alignStyle="vertical-align:top;";break;case"middle":e.alignStyle="vertical-align:middle;";break;case"bottom":e.alignStyle="vertical-align:bottom;";break;case"left":e.alignStyle="float:left;";break;case"right":e.alignStyle="float:right;";break;default:e.alignStyle=""}},reset:function(e){e.formDataBackup&&(e.formData=JSON.parse(JSON.stringify(e.formDataBackup)))},submit:function(e,t,n){var i=this;e.validate((function(e){if(!e)return!1;i.editor.insertContent(n(t)),i.currentDialogVisible=""}))}}};n(7);function c(e,t,n,i,a,o,r,l){var s,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),r?(s=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=s):a&&(s=l?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),s)if(c.functional){c._injectStyles=s;var u=c.render;c.render=function(e,t){return s.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,s):[s]}return{exports:e,options:c}}var u=c(s,a,[],!1,null,null,null);u.options.__file="src/ElTinymce/components/Side.vue";var d=u.exports,p=n(6),m={name:"ElTinymce",components:{VueTinymce:n.n(p).a,Side:d},inheritAttrs:!1,props:{content:{type:String,required:!0},updateEvent:{type:String,default:"beforeaddundo undo redo keyup"},url:{type:String,default:"https://cdn.jsdelivr.net/npm/tinymce@%5E5.4.0"},config:{type:Object,default:function(){return{}}},height:{type:Number,default:500},readonly:{type:Boolean,default:!1},upload:{required:!0,type:Function}},data:function(){return{editor:null,contentInternal:""}},computed:{configInternal:function(){return Object.assign({min_height:this.height,readonly:this.readonly,menubar:"file edit view insert format tools table",toolbar1:"code | undo redo | fontsizeselect fontselect | blockquote hr | removeformat link unlink pastetext | pagebreak | charmap emoticons | fullscreen preview save print",init_instance_callback:this.init_instance_callback},this.config)}},watch:{content:{immediate:!0,handler:"setContent"},contentInternal:"contentChange"},beforeDestroy:function(){this.editor=null},methods:{init_instance_callback:function(e){this.editor=e,this.setContent(),this.editor.on("NewBlock",(function(e){var t=e.newBlock.getAttribute("class");/^\[object String\]$/.test(Object.prototype.toString.call(t))&&t.indexOf("el-tinymce-resource")>-1&&e.newBlock.removeAttribute("class")}))},setContent:function(){this.contentInternal!==this.content&&(this.contentInternal=this.content)},contentChange:function(){this.contentInternal!==this.content&&this.$emit("update:content",this.contentInternal)}}},f=(n(11),c(m,i,[],!1,null,null,null));f.options.__file="src/ElTinymce/index.vue";var g,h=f.exports;function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"!=typeof window&&window.ElSingleUploadOptions;g?console.warn("[ElTinymce] already installed. Vue.use(ElTinymce) should be called only once."):(g=e,/^\[object Object\]$/.test(Object.prototype.toString.call(t))&&/^\[object [^F]*Function\]$/.test(Object.prototype.toString.call(t.upload))&&Object.assign(h.props.upload,{required:!1,default:t.upload}),g.component(h.name,h))}h.install=y,"undefined"!=typeof window&&window.Vue&&y(window.Vue)}]).ElTinymce}));